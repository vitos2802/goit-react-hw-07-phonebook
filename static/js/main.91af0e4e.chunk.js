(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{21:function(t,e,n){t.exports={contactItem:"ContactListItem_contactItem__3JHqu",deleteButton:"ContactListItem_deleteButton__1Gd38"}},22:function(t,e,n){t.exports={filterLabel:"Filter_filterLabel__2v7lU",filterText:"Filter_filterText__hK93Q"}},33:function(t,e,n){t.exports={contactList:"ContactList_contactList__1PEth"}},34:function(t,e,n){t.exports={Container:"Container_Container__KKNlc"}},65:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),o=n(12),u=n.n(o),s=n(5),i=n(15),l=n(4),b=n(7),f=n(10),j=n(2),d={changeFilter:Object(l.b)("contacts/filter")},h=n(6),p=n.n(h),O=n(16),m=n(11),x=n.n(m);x.a.defaults.baseURL="http://localhost:3000";var C,v={fetchContacts:function(){return x.a.get("/contacts").then((function(t){return t.data}))},addContact:function(t,e){return x.a.post("/contacts",t,e).then((function(t){return t.data}))},deleteContact:function(t){return x.a.delete("/contacts/".concat(t))}},_={getContacts:Object(l.c)("contacts/getContacts",function(){var t=Object(O.a)(p.a.mark((function t(e,n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,v.fetchContacts();case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),addContact:Object(l.c)("contacts/addContact",function(){var t=Object(O.a)(p.a.mark((function t(e,n){var c,a,r,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.name,a=e.phone,r=n.rejectWithValue,t.prev=2,t.next=5,v.addContact({name:c,phone:a});case 5:return o=t.sent,t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",r(t.t0.response.data));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),deleteContact:Object(l.c)("contacts/deleteContact",function(){var t=Object(O.a)(p.a.mark((function t(e,n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,v.deleteContact(e);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",c(t.t0.response.data));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}())},g=Object(l.d)([],(C={},Object(f.a)(C,_.getContacts.fulfilled,(function(t,e){return e.payload})),Object(f.a)(C,_.addContact.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(i.a)(t),[n])})),Object(f.a)(C,_.deleteContact.fulfilled,(function(t,e){return t.filter((function(t){return t.id!==e.meta.arg}))})),C)),w=Object(l.d)("",Object(f.a)({},d.changeFilter,(function(t,e){return e.payload}))),y=Object(j.c)({entities:g,filter:w}),k=Object(i.a)(Object(l.e)({serializableCheck:{ignoredActions:[b.a,b.f,b.b,b.c,b.d,b.e]}})),N=Object(l.a)({reducer:{contacts:y},devTools:!1,middleware:k}),L=(n(65),n(23)),F=n(13),I=function(t){return t.contacts.entities},B=function(t){return t.contacts.filter},T=Object(F.a)([I,B],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),S=n(8),q=n.n(S),P=function(){var t=Object(a.useState)(""),e=Object(L.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(""),u=Object(L.a)(o,2),i=u[0],l=u[1],b=Object(s.c)(I),f=Object(s.b)(),j=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":r(c);break;case"phone":l(c);break;default:return}},d=function(){var t=!!b.find((function(t){return t.name===n}));return t&&alert("".concat(n," is already in contacts")),!t};return Object(c.jsxs)("form",{className:q.a.form,onSubmit:function(t){t.preventDefault(),d()&&(f(_.addContact({name:n,phone:i})),r(""),l(""))},children:[Object(c.jsxs)("div",{className:q.a.formInner,children:[Object(c.jsxs)("label",{className:q.a.label,children:[Object(c.jsx)("span",{children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",value:n,onChange:j,required:!0})]}),Object(c.jsxs)("label",{className:q.a.label,children:[Object(c.jsx)("span",{children:"Phone"}),Object(c.jsx)("input",{type:"tel",name:"phone",value:i,onChange:j,required:!0})]})]}),Object(c.jsx)("button",{className:q.a.formButton,type:"submit",children:"Add contact"})]})},J=n(21),K=n.n(J),V=function(){var t=Object(s.c)(T),e=Object(s.b)();return Object(a.useEffect)((function(){e(_.getContacts())}),[e]),t.map((function(t){var n=t.id,a=t.name,r=t.phone;return Object(c.jsxs)("li",{className:K.a.contactItem,children:[a,": ",r," ",Object(c.jsx)("button",{className:K.a.deleteButton,type:"button",onClick:function(){return e(_.deleteContact(n))},children:"Delete"})]},n)}))},W=n(33),A=n.n(W),D=function(){return Object(c.jsx)("ul",{className:A.a.contactList,children:Object(c.jsx)(V,{})})},E=n(22),M=n.n(E),R=function(){var t=Object(s.c)(B),e=Object(s.b)();return Object(c.jsxs)("label",{className:M.a.filterLabel,children:[Object(c.jsx)("p",{className:M.a.filterText,children:"Find contacts by name"}),Object(c.jsx)("input",{type:"text",value:t,onChange:function(t){return e(d.changeFilter(t.currentTarget.value))}})]})},U=n(34),X=n.n(U),Y=function(t){var e=t.children;return Object(c.jsx)("div",{className:X.a.Container,children:e})},z=function(){return Object(c.jsxs)(Y,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(P,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(R,{}),Object(c.jsx)(D,{})]})};u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(s.a,{store:N,children:Object(c.jsx)(z,{})})}),document.querySelector("#root"))},8:function(t,e,n){t.exports={form:"ContactForm_form__2jP_9",formInner:"ContactForm_formInner__2X7YM",label:"ContactForm_label__38R86",formButton:"ContactForm_formButton__YlXC4"}}},[[66,1,2]]]);
//# sourceMappingURL=main.91af0e4e.chunk.js.map